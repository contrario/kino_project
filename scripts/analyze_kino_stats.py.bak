# scripts/analyze_kino_stats.py

import pandas as pd
from collections import Counter

def analyze_draws(draws_df):
    try:
        # Î•Î¾Î±Î³Ï‰Î³Î® ÏŒÎ»Ï‰Î½ Ï„Ï‰Î½ Î±ÏÎ¹Î¸Î¼ÏÎ½ Î±Ï€ÏŒ ÏŒÎ»Î± Ï„Î± draws
        all_numbers = [num for sublist in draws_df['winning_numbers'] for num in sublist]

        frequency = Counter(all_numbers)
        sorted_freq = dict(sorted(frequency.items(), key=lambda x: x[1], reverse=True))

        print("ğŸ“Œ Most Frequent Numbers:")
        for num, freq in list(sorted_freq.items())[:10]:
            print(f"Number {num}: {freq} times")

        return sorted_freq
    except Exception as e:
        print(f"âŒ Error in analyze_draws: {e}")
        return {}
