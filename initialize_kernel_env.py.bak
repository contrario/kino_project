import os
import sys
import io
import time

# Î•Î¾Î±ÏƒÏ†Î¬Î»Î¹ÏƒÎ· UTF-8 encoding Î³Î¹Î± Î±ÏƒÏ†Î±Î»Î® ÎµÎºÏ„ÏÏ€Ï‰ÏƒÎ·
sys.stdout = io.TextIOWrapper(sys.stdout.buffer, encoding='utf-8')

def safe_str(obj):
    return str(obj) if obj is not None else "[None]"

def initialize_environment():
    print("ğŸ›  Î•ÎºÎºÎ¯Î½Î·ÏƒÎ· Î ÎµÏÎ¹Î²Î¬Î»Î»Î¿Î½Ï„Î¿Ï‚ KINO Kernel...")

    # Î”Î·Î¼Î¹Î¿Ï…ÏÎ³Î¯Î± Î²Î±ÏƒÎ¹ÎºÏÎ½ Ï†Î±ÎºÎ­Î»Ï‰Î½
    required_dirs = ["data", "models", "outputs", "results", "logs"]
    for directory in required_dirs:
        if directory:
            full_path = os.path.join(os.getcwd(), directory)
            try:
                if not os.path.exists(full_path):
                    os.makedirs(full_path)
                    print(f"[+] Î”Î·Î¼Î¹Î¿Ï…ÏÎ³Î®Î¸Î·ÎºÎµ Ï†Î¬ÎºÎµÎ»Î¿Ï‚: {full_path}")
                else:
                    print(f"[âœ“] Î¥Ï€Î¬ÏÏ‡ÎµÎ¹ Î®Î´Î· Ï†Î¬ÎºÎµÎ»Î¿Ï‚: {full_path}")
            except Exception as e:
                print(f"[Î£Ï†Î¬Î»Î¼Î±]: {safe_str(e)}")

    # ÎœÎµÏ„Î±Î²Î»Î·Ï„Î­Ï‚ Ï€ÎµÏÎ¹Î²Î¬Î»Î»Î¿Î½Ï„Î¿Ï‚ (Ï€ÏÎ¿Î±Î¹ÏÎµÏ„Î¹ÎºÎ­Ï‚)
    try:
        os.environ["KINO_ENV"] = "active"
        os.environ["KERNEL_STATUS"] = "initialized"
    except Exception as e:
        print(f"[Î£Ï†Î¬Î»Î¼Î± Ï€ÎµÏÎ¹Î²Î¬Î»Î»Î¿Î½Ï„Î¿Ï‚]: {safe_str(e)}")

    time.sleep(1)
    print("âœ… Î¤Î¿ Ï€ÎµÏÎ¹Î²Î¬Î»Î»Î¿Î½ Ï†Î¿ÏÏ„ÏÎ¸Î·ÎºÎµ ÎµÏ€Î¹Ï„Ï…Ï‡ÏÏ‚")

if __name__ == "__main__":
    try:
        initialize_environment()
    except Exception as e:
        print(f"[Î£Î¦Î‘Î›ÎœÎ‘] ÎšÎ±Ï„Î¬ Ï„Î·Î½ ÎµÎºÎºÎ¯Î½Î·ÏƒÎ·: {safe_str(e)}")
